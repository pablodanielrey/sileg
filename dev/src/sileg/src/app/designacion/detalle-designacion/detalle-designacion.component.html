<div class='contenidoPantalla'>
    <mat-table #table [dataSource]="designaciones" matSort (matSortChange)='ordenar($event)' matSortActive="fullname" matSortDirection="asc">
        
        <ng-container matColumnDef='fullname'>
            <mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </mat-header-cell>
            <mat-cell *matCellDef='let d'>
                <div routerLink='/sistema/usuario/usuario/{{d.usuario.id}}/designaciones'>
                  {{d.usuario.nombre}} {{d.usuario.apellido}}
                </div> 
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef='dni'>
            <mat-header-cell *matHeaderCellDef mat-sort-header> DNI </mat-header-cell>
            <mat-cell *matCellDef='let d'> {{d.usuario.dni}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef='tipo_designacion'>
          <mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </mat-header-cell>
          <mat-cell *matCellDef='let d'> {{d.designacion.tipo}} </mat-cell>
        </ng-container>

        <!-- 
        <ng-container matColumnDef='cargo'>
            <mat-header-cell *matHeaderCellDef mat-sort-header> Cargo </mat-header-cell>
            <mat-cell *matCellDef='let d'>
              <mat-select class="selectCargo" [value]='d.designacion.cargo_id'>
                <mat-option *ngFor="let c of cargos" [value]="c.id">
                  {{ c.nombre }}
                </mat-option>
              </mat-select>
            </mat-cell>
        </ng-container>
        -->

      <ng-container matColumnDef='cargo'>
          <mat-header-cell *matHeaderCellDef mat-sort-header> Cargo </mat-header-cell>
          <mat-cell *matCellDef='let d'>
            <div>{{cargo(d)?.nombre}}</div>
          </mat-cell>
      </ng-container>

      <ng-container matColumnDef='tipo_cargo'>
        <mat-header-cell *matHeaderCellDef mat-sort-header> Tipo Cargo </mat-header-cell>
        <mat-cell *matCellDef='let d'>
          <div>{{cargo(d)?.tipo}}</div>
        </mat-cell>
      </ng-container>      

        <ng-container matColumnDef='desde'>
            <mat-header-cell *matHeaderCellDef mat-sort-header> Desde </mat-header-cell>
            <mat-cell *matCellDef='let d'>
              <mat-form-field class="imputFecha">
              <input class="imputFecha2" matInput [matDatepicker]="picker" placeholder="" [value]='d.designacion.desde'>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker ></mat-datepicker>
            </mat-form-field>
            </mat-cell>
        </ng-container>        

        <ng-container matColumnDef='hasta'>
            <mat-header-cell *matHeaderCellDef mat-sort-header> Hasta </mat-header-cell>
            <mat-cell *matCellDef='let d'>
              <mat-form-field class="imputFecha">
              <input class="imputFecha2" matInput [matDatepicker]="picker" placeholder="" [value]='d.designacion.hasta'>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker ></mat-datepicker>
            </mat-form-field>
            </mat-cell>
        </ng-container>        

        <ng-container matColumnDef='expediente'>
          <mat-header-cell *matHeaderCellDef mat-sort-header> Expediente </mat-header-cell>
          <mat-cell *matCellDef='let d'>
            <div>{{d.expediente}}</div>
          </mat-cell>
        </ng-container>  

        <ng-container matColumnDef='resolucion'>
          <mat-header-cell *matHeaderCellDef mat-sort-header> Resoluci√≥n </mat-header-cell>
          <mat-cell *matCellDef='let d'>
            <div>{{d.resolucion}}</div>
          </mat-cell>
        </ng-container>  

        <ng-container matColumnDef='lugar'>
          <mat-header-cell *matHeaderCellDef mat-sort-header> Lugar </mat-header-cell>
          <mat-cell *matCellDef='let d'>
            <a style='color: inherit; text-decoration: none' routerLink='/sistema/lugares/lugar/{{d.lugar?.id}}/designaciones'>
              <div>{{d.lugar.nombre}}</div>  
            </a>            
          </mat-cell>
        </ng-container>  

        <ng-container matColumnDef='estado'>
          <mat-header-cell *matHeaderCellDef mat-sort-header> Estado </mat-header-cell>
          <mat-cell *matCellDef='let d'>
            <div *ngIf='d.historico'> H</div>
          </mat-cell>
        </ng-container>   

        <mat-header-row *matHeaderRowDef="columnas"></mat-header-row>
        <mat-row *matRowDef="let row; columns: columnas;"></mat-row>
    </mat-table>
    
</div>